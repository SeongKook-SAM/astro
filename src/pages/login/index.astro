---
import BaseLayout from 'layouts/BaseLayout.astro';
const pageTitle = 'SNS헬프 - 인스타 좋아요 늘리기, 인스타그램 팔로워 늘리기';
---

<BaseLayout pageTitle={pageTitle}>
  <main class={'mt-[130px] px-[12.5%]'}>
    <form class="m-40 border p-10 c-flex gap-10 items-start">
      <div>
        <label for="user_id">아이디</label>
        <input type="text" id="user_id" name="user_id" placeholder="아이디를 입력해주세요." />
      </div>
      <div>
        <label for="user_password">비밀번호</label>
        <input
          type="password"
          id="user_password"
          name="user_password"
          placeholder="비밀번호를 입력해주세요."
        />
      </div>
      <button type="submit">로그인</button>
    </form>
  </main>

  <script>
    const form: HTMLFormElement | null = document.querySelector('form');

    form?.addEventListener('submit', (e) => {
      e.preventDefault();

      const data = {
        user_id: form?.user_id.value,
        user_password: form?.user_password.value,
      };

      try {
        localStorage.setItem('userData', JSON.stringify(data));

        localStorage.setItem('isLoggedIn', 'true');

        alert('로그인 정보가 저장되었습니다.');

        window.location.href = '/';
      } catch (error) {
        alert('데이터 저장 중 오류가 발생했습니다.');
      }
    });
  </script>
</BaseLayout>
